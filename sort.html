<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DiagonalsSort</title>
  </head>
  <body></body>
  <script>
    const matrix = [
      [1, 3, 9, 4],
      [9, 5, 7, 7],
      [3, 6, 9, 7],
      [1, 2, 2, 2],
    ];
    const cols = matrix.length;
    const rows = matrix.length;
    const maxLength = Math.max(cols, rows);
    let tempArr = [];
    let result = [];

    for (let k = 0; k <= 2 * (maxLength - 1); k++) {
      let temp = [];
      for (let y = cols - 1; y >= 0; y--) {
        let x = k - y;
        // console.log(k, y, x);
        if (x >= 0 && x < rows) {
          temp.push(matrix[y][x]);
        }
      }
      if (temp.length > 0) {
        tempArr.push(temp.sort());
      }
    }

    for (let k = 0; k <= maxLength - 1; k++) {
      let tempResult = [];
      let arr = tempArr.filter((a) => a.length > 0);
      // console.log(arr);
      for (let i = 0; i <= maxLength - 1; i++) {
        const length = arr[i].length;
        tempResult.push(arr[i][length - 1]);
        tempArr[tempArr.indexOf(arr[i])].pop();
      }
      result.push(tempResult);
    }
    console.log(result);
  </script>
</html>
